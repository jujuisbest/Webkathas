<% include partials/header %>


  <!-- Demo styles -->  <style>
    body {
      background: #fff;
      font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
      font-size: 14px;
      color:#000;
      margin: 0;
      padding: 0;
    }
    .swiper-container.swc2 {
      width: 100%;
      height:400px;
      padding-top: 50px;
      padding-bottom: 50px;
    }
    .swiper-slide.sld2 {
      background-position: center;
      background-size: cover;
      width: 300px;
      height: 300px;
    }
   .swiper-slide.sld2 img {
      background-position: center;
      background-size: cover;
      width: 300px;
      height: 300px;
    }
     .swiper-container.swc1 {
      background-position: center;
      background-size: cover;
      width: 100%;
      height:300px;
      padding-top: 50px;
      padding-bottom: 50px;
    }
    .swiper-slide.sld1 {
      width: 200px;
      height: 200px;
    }
      .swiper-slide.sld1 img {
      background-position: center;
      background-size: cover;
      width: 200px;
      height: 200px;
    }
    
    
    @media (min-width: 1025px) and (max-width: 1280px) {
  
  //CSS
  
}

/* 
  ##Device = Tablets, Ipads (portrait)
  ##Screen = B/w 768px to 1024px
*/

@media (min-width: 768px) and (max-width: 1024px) {
  
  //CSS
  
}

/* 
  ##Device = Tablets, Ipads (landscape)
  ##Screen = B/w 768px to 1024px
*/

@media (min-width: 768px) and (max-width: 1024px) and (orientation: landscape) {
  
 img.d-block.w-100.crl{
   height:350;
 }
  
}

/* 
  ##Device = Low Resolution Tablets, Mobiles (Landscape)
  ##Screen = B/w 481px to 767px
*/

@media (min-width: 481px) and (max-width: 767px) {
  
  img.d-block.w-100.crl{
   height:250;
 }
  
}

/* 
  ##Device = Most of the Smartphones Mobiles (Portrait)
  ##Screen = B/w 320px to 479px
*/

@media (min-width: 320px) and (max-width: 480px) {
  
  img.d-block.w-100.crl{
   height:200;
 }
  
}

@media (min-width: 0px) and (max-width:320px) {
  
  img.d-block.w-100.crl{
   height:200;
 }
  
}
    
    
    
  </style>

        <div id="#car" class="container">
          <% if((carousel[0]!=undefined)||(carousel[1]!=undefined)||(carousel[2]!=undefined)) {%>
           <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
          <ol class="carousel-indicators">
            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
          </ol>
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img class="d-block w-100 crl" src="<%=carousel[0].image%>" alt="First slide">
              <% if(currentUser &&currentUser.isAdmin) {%>
          <a style="margin-left:50%" class="btn btn-warning " href="/carousel/<%=carousel[0]._id%>/edit">Edit</a>
          <% } %>
            </div>
            <div class="carousel-item">
              <img class="d-block w-100 crl" src="<%=carousel[1].image%>">
              <% if(currentUser &&currentUser.isAdmin) {%>
          <a style="margin-left:50%" class="btn btn-warning " href="/carousel/<%=carousel[1]._id%>/edit">Edit</a>
          <% } %>
            </div>
            <div class="carousel-item">
              <img class="d-block w-100 crl" src="<%=carousel[2].image%>" alt="Third slide">
              <% if(currentUser &&currentUser.isAdmin) {%>
          <a style="margin-left:50%" class="btn btn-warning " href="/carousel/<%=carousel[2]._id%>/edit">Edit</a>
          <% } %>
            </div>
          </div>
          <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </a>
        </div> 
        <% } %>
        </div>
       
        
<div class="container">
  

<div class="container">
  <hr>
  <div style="padding-top:10px;padding-bottom:10px;" class="jumbotron">
    <div class="row">
      <%if(recomended[0]!==undefined){%>
      <div class="col-md-4 col-4">
        <a class="hvr-grow" href="books/<%=recomended[0].bookid%>"><img height="250" width="180"  src="<%=recomended[0].image%>">
                  <p><%=recomended[0].title%></p>
                  </a>

      </div>
      
      <div class="col-md-8 col-8">
        <h3>Synopsis</h3>
        <%-recomended[0].synopsis%>
      </div>
      <% }%>
    </div>
  </div>
  <hr>
  <h2>Recommended</h2>
  <!-- Swiper -->
  <div class="swiper-container swc2" >
    <div class="swiper-wrapper">
      
        <% recomended.forEach(function(Recom){ %>
        <div class="swiper-slide sld2" >
          <a class="hvr-grow" href="books/<%=Recom.bookid%>"><img  src="<%=Recom.image%>">
          <p><%=Recom.title%></p>
          </a>
          <% if(currentUser &&currentUser.isAdmin) {%>
          <a class="btn btn-warning" href="/recomended/<%=Recom._id%>/edit">Edit</a>
          <% } %>
          </div>
        <% })%> 
 
    </div>
 <!-- If we need navigation buttons -->
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
 
  </div>



<hr>
  <h2>New Arrivals</h2>
  <!-- Swiper -->
  <div class="swiper-container swc1" >
    <div class="swiper-wrapper">
        <% book.slice(-20).reverse().forEach(function(Book){ %>
        <div class="swiper-slide sld1" >
          <a class="hvr-grow" href="books/<%=Book._id%>">
            <img  src="<%=Book.image%>"> 
            <p><%=Book.title%>
            </p></a>
             </div>
         
        <% })%> 

    </div>
    
 
  </div>

<div class="container">
  
  <h2>Latest Chapter Release</h2>
   <div class="table-wrapper-scroll-y">

  <table class="table table-hover table-dark table-striped ">
    <thead class="thead-dark">
      <tr>
        <th scope="col">Book</th>
        <th scope="col">Chapter N.o&Title</th>
        <th scope="col">Author</th>
        <th scope="col">Release time</th>
      </tr>
    </thead>
    <tbody>
        
        <%if(chapter){%>
      <% chapter.forEach(function(Chapter){ %>
      <tr>
     <td><a href="/books/<%=Chapter.author.book_id._id%>"><%=Chapter.author.book_id.title%></a>: </td>
    <td><a href="/books/<%=Chapter.author.book_id._id%>/chapters/<%=Chapter._id%>"><%=Chapter.chapter_no%> <%=Chapter.title%> </a></td>
     <td><%=Chapter.author.id.username%>%></td>
     <td> <%=moment(Chapter.datechap).fromNow();%></td>
 </tr>
 <% })%>
 <% }%>

    </tbody>
  </table>

</div>
</div>
</div>
</div>



 


  <!-- Swiper JS -->
 <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.3.5/js/swiper.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.3.5/js/swiper.min.js"></script>





  <!-- Initialize Swiper -->
  <script>
    var swiper = new Swiper('.swc2', {
        effect: 'coverflow',
      grabCursor: true,
      centeredSlides: true,
      slidesPerView: 'auto',
      coverflowEffect: {
        rotate: 50,
        stretch: 0,
        depth: 100,
        modifier: 1,
        slideShadows : true,
      },
        loop: true,
      spaceBetween: 30,
      pagination: {
        el: '.swiper-pagination',
        dynamicBullets: true,
      },
      navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },// And if we need scrollbar
    scrollbar: {
      el: '.swiper-scrollbar',
    },
     autoplay: {
    delay: 3000,
  },
  mousewheel: true,

    
    });
    
    
    var swiper = new Swiper('.swc1', {
      grabCursor: true,
      centeredSlides: true,
      slidesPerView: 'auto',
        loop: true,
      spaceBetween: 30,
      pagination: {
        el: '.swiper-pagination',
        dynamicBullets: true,
      },
      // And if we need scrollbar
    scrollbar: {
      el: '.swiper-scrollbar',
    },
     autoplay: {
    delay: 3000,
  },
  mousewheel: true,
    });
  </script>





<script>
        setTimeout(function(){
            $('#Error').fadeOut('fast');
            $('#Success').fadeOut('fast');
        },5000)
    </script>



<% include partials/footer %>